<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>JavaScript Snippets</title>
	<link rel="stylesheet" href="assets/normalize.css">
	<link rel="stylesheet" href="assets/monokai-sublime.min.css">
	<link rel="stylesheet" href="assets/style.css">
</head>
<body>
<div class="sidebar">
	<ul>
		<li><a href="#disableHoverWhenScrolling">Выключать hover-эвенты при скролле</a></li>
		<li><a href="#maxLengthCheck">Проверка максимальной длины введённого текста</a></li>
		<li><a href="#getTemplateAjax">Скачивает Handlebars шаблон и передаёт в callback</a></li>
		<li><a href="#handlebarsHelpers">Дополнительные возможности для шаблонизатора</a></li>
	</ul>
</div>
<div class="container">
	<pre><code id="disableHoverWhenScrolling" class="hljs javascript">
		/**
		 * [disableHoverWhenScrolling Выключать hover-эвенты при скролле]
		 * @author Vadim Zhukov
		 * @date   2015-12-21
		 */
		function disableHoverWhenScrolling(){
			window.addEventListener('scroll', function() {
				clearTimeout(timer);
				if(!body.classList.contains('disable-hover')) {
					body.classList.add('disable-hover');
				}
				timer = setTimeout(function(){
					body.classList.remove('disable-hover');
				}, 500);
			}, false);
		}
	</code><code id="maxLengthCheck" class="hljs javascript">
		/**
		 * [maxLengthCheck Проверка максимальной длины введённого текста]
		 * @author Vadim Zhukov
		 * @date   2015-12-21
		 * @param  {[type]}   object [description]
		 */
		function maxLengthCheck(object) {
			if (object.value.length > object.maxLength)
			object.value = object.value.slice(0, object.maxLength)
		}
	</code><code id="getTemplateAjax" class="hljs javascript">
		/*********************************************************************************************************/
		/*                                            Handlebars                                                 */
		/*********************************************************************************************************/
		/**
		 * [getTemplateAjax Скачивает Handlebars шаблон и передаёт в callback]
		 * @author Vadim Zhukov
		 * @date   2015-12-01
		 * @param  {[string]}   path   [путь к шаблону]
		 * @param  {Function} callback [функция каллбек]
		 */
		function getTemplateAjax(path, callback) {
			var source,
				template;

			$.ajax({
				url: path,
				cache: true,
				success: function(data) {
					var source    = data,
						template  = Handlebars.compile(source, {noEscape: true});

					if (callback) callback(template);
				}
			});
		}
	</code><code id="handlebarsHelpers" class="hljs javascript">
		/**
		 * [handlebarsHelpers Дополнительные возможности для шаблонизатора]
		 * @author Vadim Zhukov
		 * @date   2015-12-15
		 */
		function handlebarsHelpers(ev) {
			// Добавляет бинарные операторы в шаблонизатор
			Handlebars.registerHelper('ifCond', function(v1, operator, v2, options) {
				switch (operator) {
					case '==':
						return (v1 == v2) ? options.fn(this) : options.inverse(this);
					case '!=':
						return (v1 != v2) ? options.fn(this) : options.inverse(this);
					case '===':
						return (v1 === v2) ? options.fn(this) : options.inverse(this);
					case '<':
						return (v1 < v2) ? options.fn(this) : options.inverse(this);
					case '<=':
						return (v1 <= v2) ? options.fn(this) : options.inverse(this);
					case '>':
						return (v1 > v2) ? options.fn(this) : options.inverse(this);
					case '>=':
						return (v1 >= v2) ? options.fn(this) : options.inverse(this);
					case '&&':
						return (v1 && v2) ? options.fn(this) : options.inverse(this);
					case '||':
						return (v1 || v2) ? options.fn(this) : options.inverse(this);
					default:
						return options.inverse(this);
				}
			});
			// Добавляет метод trim
			Handlebars.registerHelper('trimString', function(passedString) {
				var theString = passedString.substring(0, 150);
				return new Handlebars.SafeString(theString)
			});
		}
	</code></pre>
</div>

	<script src="assets/jquery.min.js"></script>
	<script src="assets/highlight.pack.js"></script>
	<script src="assets/jquery.smoothscroll.min.js"></script>
	<script src="assets/app.js"></script>
</body>
</html>